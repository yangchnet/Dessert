<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>channel的行为 | Linote</title><meta name=keywords content="golang,channel"><meta name=description content="1. nil channel   接收 接收goroutine阻塞
  发送 发送个goroutine阻塞
  2. 向无缓冲channel发送消息   接受队列有goroutine 接收端将收到消息
  接收队列无goroutine 发送goroutine将阻塞
  已有发送goroutine阻塞 发送goroutine将阻塞
  3. 从无缓冲channel接收消息   无发送goroutine 接收端阻塞
  有发送goroutine 收到消息
  4. 向有缓冲channel发送消息   队列未满 正常发送
  队列已满 发送端阻塞
  5. 从有缓冲channel接收消息   队列中有消息 正常接收
  队列中无消息 接收端阻塞
  6. 对close channel的操作   向closed channel发送 panic"><meta name=author content="李昌"><link rel=canonical href=http://yangchnet.github.io/Dessert/posts/golang/channel%E7%9A%84%E8%A1%8C%E4%B8%BA/><link crossorigin=anonymous href=/Dessert/assets/css/stylesheet.min.7e145c6c051b0f6645e8d84c6faed7fed1214bbe82c223c2c19815bee6ee8403.css integrity="sha256-fhRcbAUbD2ZF6NhMb67X/tEhS76CwiPCwZgVvubuhAM=" rel="preload stylesheet" as=style><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel=stylesheet><script defer crossorigin=anonymous src=/Dessert/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon32.ico><link rel=apple-touch-icon href=http://yangchnet.github.io/Dessert/apple-touch-icon.png><link rel=mask-icon href=http://yangchnet.github.io/Dessert/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.81.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="channel的行为"><meta property="og:description" content="1. nil channel   接收 接收goroutine阻塞
  发送 发送个goroutine阻塞
  2. 向无缓冲channel发送消息   接受队列有goroutine 接收端将收到消息
  接收队列无goroutine 发送goroutine将阻塞
  已有发送goroutine阻塞 发送goroutine将阻塞
  3. 从无缓冲channel接收消息   无发送goroutine 接收端阻塞
  有发送goroutine 收到消息
  4. 向有缓冲channel发送消息   队列未满 正常发送
  队列已满 发送端阻塞
  5. 从有缓冲channel接收消息   队列中有消息 正常接收
  队列中无消息 接收端阻塞
  6. 对close channel的操作   向closed channel发送 panic"><meta property="og:type" content="article"><meta property="og:url" content="http://yangchnet.github.io/Dessert/posts/golang/channel%E7%9A%84%E8%A1%8C%E4%B8%BA/"><meta property="og:image" content="http://yangchnet.github.io/Dessert/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-02T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://yangchnet.github.io/Dessert/papermod-cover.png"><meta name=twitter:title content="channel的行为"><meta name=twitter:description content="1. nil channel   接收 接收goroutine阻塞
  发送 发送个goroutine阻塞
  2. 向无缓冲channel发送消息   接受队列有goroutine 接收端将收到消息
  接收队列无goroutine 发送goroutine将阻塞
  已有发送goroutine阻塞 发送goroutine将阻塞
  3. 从无缓冲channel接收消息   无发送goroutine 接收端阻塞
  有发送goroutine 收到消息
  4. 向有缓冲channel发送消息   队列未满 正常发送
  队列已满 发送端阻塞
  5. 从有缓冲channel接收消息   队列中有消息 正常接收
  队列中无消息 接收端阻塞
  6. 对close channel的操作   向closed channel发送 panic"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://yangchnet.github.io/Dessert/posts/"},{"@type":"ListItem","position":3,"name":"channel的行为","item":"http://yangchnet.github.io/Dessert/posts/golang/channel%E7%9A%84%E8%A1%8C%E4%B8%BA/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"channel的行为","name":"channel的行为","description":"1. nil channel   接收 接收goroutine阻塞\n  发送 发送个goroutine阻塞\n  2. 向无缓冲channel发送消息   接受队列有goroutine 接收端将收到消息\n  接收队列无goroutine 发送goroutine将阻塞\n  已有发送goroutine阻塞 发送goroutine将阻塞\n  3. 从无缓冲channel接收消息   无发送goroutine 接收端阻塞\n  有发送goroutine 收到消息\n  4. 向有缓冲channel发送消息   队列未满 正常发送\n  队列已满 发送端阻塞\n  5. 从有缓冲channel接收消息   队列中有消息 正常接收\n  队列中无消息 接收端阻塞\n  6. 对close channel的操作   向closed channel发送 panic","keywords":["golang","channel"],"articleBody":"1. nil channel   接收 接收goroutine阻塞\n  发送 发送个goroutine阻塞\n  2. 向无缓冲channel发送消息   接受队列有goroutine 接收端将收到消息\n  接收队列无goroutine 发送goroutine将阻塞\n  已有发送goroutine阻塞 发送goroutine将阻塞\n  3. 从无缓冲channel接收消息   无发送goroutine 接收端阻塞\n  有发送goroutine 收到消息\n  4. 向有缓冲channel发送消息   队列未满 正常发送\n  队列已满 发送端阻塞\n  5. 从有缓冲channel接收消息   队列中有消息 正常接收\n  队列中无消息 接收端阻塞\n  6. 对close channel的操作   向closed channel发送 panic\n  从无缓冲closed channel接收 接收到对应类型0值\n  从有缓冲closed channel接收\n 若channel中仍有消息，则仍可接收到消息 channel已空, 接收到对应类型零值    7. 关闭channel   关闭nll channel panic\n  关闭一个已经关闭的channel panic\n  ","wordCount":"54","inLanguage":"en","datePublished":"2022-01-02T00:00:00Z","dateModified":"2022-01-02T00:00:00Z","author":{"@type":"Person","name":"李昌"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://yangchnet.github.io/Dessert/posts/golang/channel%E7%9A%84%E8%A1%8C%E4%B8%BA/"},"publisher":{"@type":"Organization","name":"Linote","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=http://yangchnet.github.io/Dessert accesskey=h title="Linote (Alt + H)">Linote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://yangchnet.github.io/Dessert/archives/ title=存档><span>存档</span></a></li><li><a href=http://yangchnet.github.io/Dessert/categories/ title=分类><span>分类</span></a></li><li><a href=http://yangchnet.github.io/Dessert/search/ title=搜索><span>搜索</span></a></li><li><a href=http://yangchnet.github.io/Dessert/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://yangchnet.github.io/Dessert>Home</a>&nbsp;»&nbsp;<a href=http://yangchnet.github.io/Dessert/posts/>Posts</a></div><h1 class=post-title>channel的行为</h1><div class=post-meta><span title="2022-01-02 00:00:00 +0000 UTC">January 2, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;李昌</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-nil-channel aria-label="1. nil channel">1. nil channel</a></li><li><a href=#2-%e5%90%91%e6%97%a0%e7%bc%93%e5%86%b2channel%e5%8f%91%e9%80%81%e6%b6%88%e6%81%af aria-label="2. 向无缓冲channel发送消息">2. 向无缓冲channel发送消息</a></li><li><a href=#3-%e4%bb%8e%e6%97%a0%e7%bc%93%e5%86%b2channel%e6%8e%a5%e6%94%b6%e6%b6%88%e6%81%af aria-label="3. 从无缓冲channel接收消息">3. 从无缓冲channel接收消息</a></li><li><a href=#4-%e5%90%91%e6%9c%89%e7%bc%93%e5%86%b2channel%e5%8f%91%e9%80%81%e6%b6%88%e6%81%af aria-label="4. 向有缓冲channel发送消息">4. 向有缓冲channel发送消息</a></li><li><a href=#5-%e4%bb%8e%e6%9c%89%e7%bc%93%e5%86%b2channel%e6%8e%a5%e6%94%b6%e6%b6%88%e6%81%af aria-label="5. 从有缓冲channel接收消息">5. 从有缓冲channel接收消息</a></li><li><a href=#6-%e5%af%b9close-channel%e7%9a%84%e6%93%8d%e4%bd%9c aria-label="6. 对close channel的操作">6. 对close channel的操作</a></li><li><a href=#7-%e5%85%b3%e9%97%adchannel aria-label="7. 关闭channel">7. 关闭channel</a></li></ul></div></details></div><div class=post-content><h2 id=1-nil-channel>1. nil channel<a hidden class=anchor aria-hidden=true href=#1-nil-channel>#</a></h2><ol><li><p>接收
接收goroutine阻塞</p></li><li><p>发送
发送个goroutine阻塞</p></li></ol><h2 id=2-向无缓冲channel发送消息>2. 向无缓冲channel发送消息<a hidden class=anchor aria-hidden=true href=#2-向无缓冲channel发送消息>#</a></h2><ol><li><p>接受队列有goroutine
接收端将收到消息</p></li><li><p>接收队列无goroutine
发送goroutine将阻塞</p></li><li><p>已有发送goroutine阻塞
发送goroutine将阻塞</p></li></ol><h2 id=3-从无缓冲channel接收消息>3. 从无缓冲channel接收消息<a hidden class=anchor aria-hidden=true href=#3-从无缓冲channel接收消息>#</a></h2><ol><li><p>无发送goroutine
接收端阻塞</p></li><li><p>有发送goroutine
收到消息</p></li></ol><h2 id=4-向有缓冲channel发送消息>4. 向有缓冲channel发送消息<a hidden class=anchor aria-hidden=true href=#4-向有缓冲channel发送消息>#</a></h2><ol><li><p>队列未满
正常发送</p></li><li><p>队列已满
发送端阻塞</p></li></ol><h2 id=5-从有缓冲channel接收消息>5. 从有缓冲channel接收消息<a hidden class=anchor aria-hidden=true href=#5-从有缓冲channel接收消息>#</a></h2><ol><li><p>队列中有消息
正常接收</p></li><li><p>队列中无消息
接收端阻塞</p></li></ol><h2 id=6-对close-channel的操作>6. 对close channel的操作<a hidden class=anchor aria-hidden=true href=#6-对close-channel的操作>#</a></h2><ol><li><p>向closed channel发送
panic</p></li><li><p>从无缓冲closed channel接收
接收到对应类型0值</p></li><li><p>从有缓冲closed channel接收</p><ul><li>若channel中仍有消息，则仍可接收到消息</li><li>channel已空, 接收到对应类型零值</li></ul></li></ol><h2 id=7-关闭channel>7. 关闭channel<a hidden class=anchor aria-hidden=true href=#7-关闭channel>#</a></h2><ol><li><p>关闭nll channel
panic</p></li><li><p>关闭一个已经关闭的channel
panic</p></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=http://yangchnet.github.io/Dessert/tags/golang/>golang</a></li><li><a href=http://yangchnet.github.io/Dessert/tags/channel/>channel</a></li></ul><nav class=paginav><a class=prev href=http://yangchnet.github.io/Dessert/posts/tool/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88/><span class=title>« Prev Page</span><br><span>常用工具集合</span></a>
<a class=next href=http://yangchnet.github.io/Dessert/posts/tool/vim%E9%85%8D%E7%BD%AE/><span class=title>Next Page »</span><br><span>vim配置</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=http://yangchnet.github.io/Dessert>Linote</a></span>
<script src=https://utteranc.es/client.js repo=yangchnet/Dessert issue-term=pathname theme=github-light crossorigin=anonymous async></script><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>