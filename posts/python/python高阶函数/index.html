<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>python高阶函数 | Linote</title><meta name=keywords content="python"><meta name=description content="如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。
 1. sorted sorted可以说是最常用的高阶函数，其用法如下：
m = {&#34;three&#34;: 3, &#34;tow&#34;: 2, &#34;one&#34;: 1 sorted(m.items(), key=lambda x: x[1]) # [('one', 1), ('tow', 2), ('three', 3)] sorted可根据其参数key返回的值来进行排序。
2. map map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。
如：
def add10(x): return x+10 print(map(add10, [1, 2, 3])) # <map object at 0x7f5824cd01c0> list(map(add10, [1, 2, 3])) # [11, 12, 13] list(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # ['1', '2', '3', '4', '5', '6', '7', '8', '9'] functools."><meta name=author content="李昌"><link rel=canonical href=http://yangchnet.github.io/Dessert/posts/python/python%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/><link crossorigin=anonymous href=/Dessert/assets/css/stylesheet.min.7e145c6c051b0f6645e8d84c6faed7fed1214bbe82c223c2c19815bee6ee8403.css integrity="sha256-fhRcbAUbD2ZF6NhMb67X/tEhS76CwiPCwZgVvubuhAM=" rel="preload stylesheet" as=style><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel=stylesheet><script defer crossorigin=anonymous src=/Dessert/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon32.ico><link rel=apple-touch-icon href=http://yangchnet.github.io/Dessert/apple-touch-icon.png><link rel=mask-icon href=http://yangchnet.github.io/Dessert/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.81.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="python高阶函数"><meta property="og:description" content="如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。
 1. sorted sorted可以说是最常用的高阶函数，其用法如下：
m = {&#34;three&#34;: 3, &#34;tow&#34;: 2, &#34;one&#34;: 1 sorted(m.items(), key=lambda x: x[1]) # [('one', 1), ('tow', 2), ('three', 3)] sorted可根据其参数key返回的值来进行排序。
2. map map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。
如：
def add10(x): return x+10 print(map(add10, [1, 2, 3])) # <map object at 0x7f5824cd01c0> list(map(add10, [1, 2, 3])) # [11, 12, 13] list(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # ['1', '2', '3', '4', '5', '6', '7', '8', '9'] functools."><meta property="og:type" content="article"><meta property="og:url" content="http://yangchnet.github.io/Dessert/posts/python/python%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/"><meta property="og:image" content="http://yangchnet.github.io/Dessert/papermod-cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-19T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-19T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://yangchnet.github.io/Dessert/papermod-cover.png"><meta name=twitter:title content="python高阶函数"><meta name=twitter:description content="如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。
 1. sorted sorted可以说是最常用的高阶函数，其用法如下：
m = {&#34;three&#34;: 3, &#34;tow&#34;: 2, &#34;one&#34;: 1 sorted(m.items(), key=lambda x: x[1]) # [('one', 1), ('tow', 2), ('three', 3)] sorted可根据其参数key返回的值来进行排序。
2. map map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。
如：
def add10(x): return x+10 print(map(add10, [1, 2, 3])) # <map object at 0x7f5824cd01c0> list(map(add10, [1, 2, 3])) # [11, 12, 13] list(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # ['1', '2', '3', '4', '5', '6', '7', '8', '9'] functools."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://yangchnet.github.io/Dessert/posts/"},{"@type":"ListItem","position":3,"name":"python高阶函数","item":"http://yangchnet.github.io/Dessert/posts/python/python%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"python高阶函数","name":"python高阶函数","description":"如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。\n 1. sorted sorted可以说是最常用的高阶函数，其用法如下：\nm = {\u0026#34;three\u0026#34;: 3, \u0026#34;tow\u0026#34;: 2, \u0026#34;one\u0026#34;: 1 sorted(m.items(), key=lambda x: x[1]) # [(\u0026#39;one\u0026#39;, 1), (\u0026#39;tow\u0026#39;, 2), (\u0026#39;three\u0026#39;, 3)] sorted可根据其参数key返回的值来进行排序。\n2. map map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。\n如：\ndef add10(x): return x+10 print(map(add10, [1, 2, 3])) # \u0026lt;map object at 0x7f5824cd01c0\u0026gt; list(map(add10, [1, 2, 3])) # [11, 12, 13] list(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # [\u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;, \u0026#39;4\u0026#39;, \u0026#39;5\u0026#39;, \u0026#39;6\u0026#39;, \u0026#39;7\u0026#39;, \u0026#39;8\u0026#39;, \u0026#39;9\u0026#39;] functools.","keywords":["python"],"articleBody":" 如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。\n 1. sorted sorted可以说是最常用的高阶函数，其用法如下：\nm = {\"three\": 3, \"tow\": 2, \"one\": 1 sorted(m.items(), key=lambda x: x[1]) # [('one', 1), ('tow', 2), ('three', 3)] sorted可根据其参数key返回的值来进行排序。\n2. map map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。\n如：\ndef add10(x): return x+10 print(map(add10, [1, 2, 3])) #  list(map(add10, [1, 2, 3])) # [11, 12, 13] list(map(str, [1, 2, 3, 4, 5, 6, 7, 8, 9])) # ['1', '2', '3', '4', '5', '6', '7', '8', '9'] functools.reduce reduce把一个函数作用在一个序列[x1, x2, x3, …]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算，其效果就是：\nreduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4) 例如：\nfrom functools import reduce from operator import mul reduce(mul, range(1, 5)) # 24 (1*2*3*4) filter filter() 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。\n该接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。\n用法：\ndef even(x:int) - bool: \"\"\"判断是否是奇数 \"\"\" if x % 2 == 0: return False else: return True list(filter(even, range(1, 10))) # [1, 3, 5, 7, 9] zip zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。\n如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。\n用法：\na = [\"one\", \"two\", \"three\"] b = [1, 2, 3, 4] list(zip(a, b)) # [('one', 1), ('two', 2), ('three', 3)] operator.attrgetter 返回一个可从操作数中获取 attr 的可调用对象。 如果请求了一个以上的属性，则返回一个属性元组。 属性名称还可包含点号。 例如：\n在 f = attrgetter(‘name’) 之后，调用 f(b) 将返回 b.name。\n在 f = attrgetter(‘name’, ‘date’) 之后，调用 f(b) 将返回 (b.name, b.date)。\n在 f = attrgetter(‘name.first’, ‘name.last’) 之后，调用 f(b) 将返回 (b.name.first, b.name.last)。\n用法：\nfrom collections import namedtuple Name = namedtuple('Name', 'firstname lastname') Person = namedtuple('Person', 'name age height') myname = Name(firstname='li', lastname='chang') me = Person(name=myname, age=18, height=180) print(me) # Person(name=Name(firstname='li', lastname='chang'), age=18, height=180) nameFn = attrgetter(\"name\") nameFn(me) # Name(firstname='li', lastname='chang') firstNameFn = attrgetter(\"name.firstname\") firstNameFn(me) # 'li' operator.itemgetter 返回一个使用操作数的 getitem() 方法从操作数中获取 item 的可调用对象。 如果指定了多个条目，则返回一个查找值的元组。\n例如：\n在 f = itemgetter(2) 之后，调用 f(r) 将返回 r[2]。\n在 g = itemgetter(2, 5, 3) 之后，调用 g(r) 将返回 (r[2], r[5], r[3])。\n用法：\nfrom operator import itemgetter index1 = itemgetter(1) index1(range(1, 10)) # 2 index1([\"one\", \"two\", \"three\"]) # 'two' functools.partial 称为偏函数，作用是把一个函数的某些参数给固定住\n用法：\nfrom functools import partial def powN(a, n=2): return a**n powN(2) # 4 pow10 = partial(powN, n=10) pow10(2) # 1024 当partial没有指定参数的名字时，会把参数加到被调用函数的参数列表左边，如：\nfrom functools import partial maxOr10 = partial(max, 10) maxOr10(11) # 11 maxOr10(1) # 1 ","wordCount":"323","inLanguage":"en","datePublished":"2022-10-19T00:00:00Z","dateModified":"2022-10-19T00:00:00Z","author":{"@type":"Person","name":"李昌"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://yangchnet.github.io/Dessert/posts/python/python%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/"},"publisher":{"@type":"Organization","name":"Linote","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/lich-Img/blogImg/master/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=http://yangchnet.github.io/Dessert accesskey=h title="Linote (Alt + H)">Linote</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://yangchnet.github.io/Dessert/archives/ title=存档><span>存档</span></a></li><li><a href=http://yangchnet.github.io/Dessert/categories/ title=分类><span>分类</span></a></li><li><a href=http://yangchnet.github.io/Dessert/search/ title=搜索><span>搜索</span></a></li><li><a href=http://yangchnet.github.io/Dessert/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://yangchnet.github.io/Dessert>Home</a>&nbsp;»&nbsp;<a href=http://yangchnet.github.io/Dessert/posts/>Posts</a></div><h1 class=post-title>python高阶函数</h1><div class=post-meta><span title="2022-10-19 00:00:00 +0000 UTC">October 19, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;李昌</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-sorted aria-label="1. sorted">1. sorted</a></li><li><a href=#2-map aria-label="2. map">2. map</a></li><li><a href=#functoolsreduce aria-label=functools.reduce>functools.reduce</a></li><li><a href=#filter aria-label=filter>filter</a></li><li><a href=#zip aria-label=zip>zip</a></li><li><a href=#operatorattrgetter aria-label=operator.attrgetter>operator.attrgetter</a></li><li><a href=#operatoritemgetter aria-label=operator.itemgetter>operator.itemgetter</a></li><li><a href=#functoolspartial aria-label=functools.partial>functools.partial</a></li></ul></div></details></div><div class=post-content><blockquote><p>如果一个函数能接收一个函数为参数或返回一个函数，那这个函数就被称为高阶函数。</p></blockquote><h3 id=1-sorted>1. sorted<a hidden class=anchor aria-hidden=true href=#1-sorted>#</a></h3><p>sorted可以说是最常用的高阶函数，其用法如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>m <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;three&#34;</span>: <span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#34;tow&#34;</span>: <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#34;one&#34;</span>: <span style=color:#ae81ff>1</span>

sorted(m<span style=color:#f92672>.</span>items(), key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x[<span style=color:#ae81ff>1</span>]) <span style=color:#75715e># [(&#39;one&#39;, 1), (&#39;tow&#39;, 2), (&#39;three&#39;, 3)]</span>
</code></pre></div><p>sorted可根据其参数key返回的值来进行排序。</p><h3 id=2-map>2. map<a hidden class=anchor aria-hidden=true href=#2-map>#</a></h3><p>map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回。</p><p>如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add10</span>(x):
    <span style=color:#66d9ef>return</span> x<span style=color:#f92672>+</span><span style=color:#ae81ff>10</span>

<span style=color:#66d9ef>print</span>(map(add10, [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>])) <span style=color:#75715e># &lt;map object at 0x7f5824cd01c0&gt;</span>

list(map(add10, [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>])) <span style=color:#75715e># [11, 12, 13]</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>list(map(str, [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>])) <span style=color:#75715e># [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]</span>
</code></pre></div><h3 id=functoolsreduce>functools.reduce<a hidden class=anchor aria-hidden=true href=#functoolsreduce>#</a></h3><p>reduce把一个函数作用在一个序列[x1, x2, x3, &mldr;]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算，其效果就是：</p><p>reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)
例如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> reduce

<span style=color:#f92672>from</span> operator <span style=color:#f92672>import</span> mul

reduce(mul, range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>5</span>)) <span style=color:#75715e># 24 (1*2*3*4)</span>
</code></pre></div><h3 id=filter>filter<a hidden class=anchor aria-hidden=true href=#filter>#</a></h3><p>filter() 函数用于过滤序列，过滤掉不符合条件的元素，返回由符合条件元素组成的新列表。</p><p>该接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</p><p>用法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>even</span>(x:int) <span style=color:#f92672>-&gt;</span> bool:
    <span style=color:#e6db74>&#34;&#34;&#34;判断是否是奇数
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
    <span style=color:#66d9ef>if</span> x <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>return</span> False
    <span style=color:#66d9ef>else</span>:
        <span style=color:#66d9ef>return</span> True

list(filter(even, range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>))) <span style=color:#75715e># [1, 3, 5, 7, 9]</span>
</code></pre></div><h3 id=zip>zip<a hidden class=anchor aria-hidden=true href=#zip>#</a></h3><p>zip() 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。</p><p>如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。</p><p>用法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>a <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>]

b <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>]

list(zip(a, b)) <span style=color:#75715e># [(&#39;one&#39;, 1), (&#39;two&#39;, 2), (&#39;three&#39;, 3)]</span>
</code></pre></div><h3 id=operatorattrgetter>operator.attrgetter<a hidden class=anchor aria-hidden=true href=#operatorattrgetter>#</a></h3><p>返回一个可从操作数中获取 attr 的可调用对象。 如果请求了一个以上的属性，则返回一个属性元组。 属性名称还可包含点号。 例如：</p><p>在 f = attrgetter(&lsquo;name&rsquo;) 之后，调用 f(b) 将返回 b.name。</p><p>在 f = attrgetter(&lsquo;name&rsquo;, &lsquo;date&rsquo;) 之后，调用 f(b) 将返回 (b.name, b.date)。</p><p>在 f = attrgetter(&lsquo;name.first&rsquo;, &lsquo;name.last&rsquo;) 之后，调用 f(b) 将返回 (b.name.first, b.name.last)。</p><p>用法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> namedtuple

Name <span style=color:#f92672>=</span> namedtuple(<span style=color:#e6db74>&#39;Name&#39;</span>, <span style=color:#e6db74>&#39;firstname lastname&#39;</span>)

Person <span style=color:#f92672>=</span> namedtuple(<span style=color:#e6db74>&#39;Person&#39;</span>, <span style=color:#e6db74>&#39;name age height&#39;</span>)

myname <span style=color:#f92672>=</span> Name(firstname<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;li&#39;</span>, lastname<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;chang&#39;</span>)
me <span style=color:#f92672>=</span> Person(name<span style=color:#f92672>=</span>myname, age<span style=color:#f92672>=</span><span style=color:#ae81ff>18</span>, height<span style=color:#f92672>=</span><span style=color:#ae81ff>180</span>)

<span style=color:#66d9ef>print</span>(me) <span style=color:#75715e># Person(name=Name(firstname=&#39;li&#39;, lastname=&#39;chang&#39;), age=18, height=180)</span>

nameFn <span style=color:#f92672>=</span> attrgetter(<span style=color:#e6db74>&#34;name&#34;</span>)
nameFn(me) <span style=color:#75715e># Name(firstname=&#39;li&#39;, lastname=&#39;chang&#39;)</span>

firstNameFn <span style=color:#f92672>=</span> attrgetter(<span style=color:#e6db74>&#34;name.firstname&#34;</span>)
firstNameFn(me) <span style=color:#75715e># &#39;li&#39;</span>
</code></pre></div><h3 id=operatoritemgetter>operator.itemgetter<a hidden class=anchor aria-hidden=true href=#operatoritemgetter>#</a></h3><p>返回一个使用操作数的 <strong>getitem</strong>() 方法从操作数中获取 item 的可调用对象。 如果指定了多个条目，则返回一个查找值的元组。</p><p>例如：</p><p>在 f = itemgetter(2) 之后，调用 f(r) 将返回 r[2]。</p><p>在 g = itemgetter(2, 5, 3) 之后，调用 g(r) 将返回 (r[2], r[5], r[3])。</p><p>用法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> operator <span style=color:#f92672>import</span> itemgetter

index1 <span style=color:#f92672>=</span> itemgetter(<span style=color:#ae81ff>1</span>)

index1(range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>)) <span style=color:#75715e># 2</span>

index1([<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>]) <span style=color:#75715e># &#39;two&#39;</span>
</code></pre></div><h3 id=functoolspartial>functools.partial<a hidden class=anchor aria-hidden=true href=#functoolspartial>#</a></h3><p>称为偏函数，作用是把一个函数的某些参数给固定住</p><p>用法：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> partial

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>powN</span>(a, n<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>):
    <span style=color:#66d9ef>return</span> a<span style=color:#f92672>**</span>n

powN(<span style=color:#ae81ff>2</span>) <span style=color:#75715e># 4</span>

pow10 <span style=color:#f92672>=</span> partial(powN, n<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span>)
pow10(<span style=color:#ae81ff>2</span>) <span style=color:#75715e># 1024</span>
</code></pre></div><p>当partial没有指定参数的名字时，会把参数加到被调用函数的参数列表左边，如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> partial
maxOr10 <span style=color:#f92672>=</span> partial(max, <span style=color:#ae81ff>10</span>)

maxOr10(<span style=color:#ae81ff>11</span>) <span style=color:#75715e># 11</span>
maxOr10(<span style=color:#ae81ff>1</span>) <span style=color:#75715e># 1</span>
</code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=http://yangchnet.github.io/Dessert/tags/python/>python</a></li></ul><nav class=paginav><a class=next href=http://yangchnet.github.io/Dessert/posts/linux/%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7-sysstat/><span class=title>Next Page »</span><br><span>stat系列性能分析工具</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://yangchnet.github.io/Dessert>Linote</a></span>
<script src=https://utteranc.es/client.js repo=yangchnet/Dessert issue-term=pathname theme=github-light crossorigin=anonymous async></script><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>